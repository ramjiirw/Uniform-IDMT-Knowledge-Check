<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>IDMT – Knowledge Check</title>

<style>
* { box-sizing: border-box; margin: 0; padding: 0; }

body {
    font-family: "Segoe UI", Tahoma, sans-serif;
    background: linear-gradient(135deg, #1e3c72, #2a5298);
    min-height: 100vh;
    padding: 20px;
}

.container {
    max-width: 800px;
    margin: auto;
    background: #fff;
    border-radius: 14px;
    box-shadow: 0 10px 40px rgba(0,0,0,0.2);
    overflow: hidden;
}

header {
    background: linear-gradient(135deg, #1e3c72, #2a5298);
    color: #fff;
    padding: 28px;
    text-align: center;
}

header h1 { font-size: 1.8em; margin-bottom: 8px; }
header p { opacity: 0.9; }

.progress {
    height: 8px;
    background: #ddd;
    margin: 20px 30px;
    border-radius: 4px;
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    width: 0%;
    background: linear-gradient(90deg, #4caf50, #8bc34a);
    transition: width 0.3s;
}

.content { padding: 30px; }

.question-number {
    color: #2a5298;
    font-weight: 600;
    margin-bottom: 6px;
}

.question {
    font-size: 1.2em;
    font-weight: 600;
    color: #1e3c72;
    margin-bottom: 20px;
}

.option {
    background: #f5f5f5;
    border: 2px solid #e0e0e0;
    padding: 14px 18px;
    border-radius: 10px;
    margin-bottom: 10px;
    cursor: pointer;
}

.option:hover {
    background: #e8f0ff;
    border-color: #2a5298;
}

.option.correct { background: #4caf50; color: #fff; }
.option.incorrect { background: #f44336; color: #fff; }
.option.disabled { pointer-events: none; opacity: 0.85; }

.feedback {
    margin-top: 15px;
    padding: 14px;
    border-radius: 8px;
    display: none;
}

.feedback.correct { background: #e8f5e9; color: #2e7d32; }
.feedback.incorrect { background: #ffebee; color: #c62828; }

.buttons {
    margin-top: 25px;
    display: flex;
    justify-content: space-between;
}

button {
    padding: 12px 26px;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
}

.btn-primary { background: #2a5298; color: #fff; }
.btn-primary:disabled { background: #ccc; cursor: not-allowed; }
.btn-secondary { background: #777; color: #fff; }

.results {
    display: none;
    padding: 40px;
    text-align: center;
}

.score {
    font-size: 3em;
    font-weight: bold;
    color: #2a5298;
}
</style>
</head>

<body>
<div class="container">

<header>
  <h1>IDMT – Knowledge Check</h1>
  <p>Idox Training</p>
</header>

<div class="progress">
  <div class="progress-fill" id="progressFill"></div>
</div>

<div class="content" id="intro">
  <h2 style="color:#1e3c72;margin-bottom:15px;">IDMT – Knowledge Check</h2>

  <p style="margin-bottom:12px;">
    You’ve now successfully completed the IDMT training.
  </p>

  <p style="margin-bottom:12px;">
    This short knowledge check reinforces how IDMT rules operate in practice,
    including data removal, testing, audit and governance.
  </p>

  <p style="margin-bottom:20px;">
    Choose the answer that best reflects how the system works in real scenarios.
    You’ll see instructional feedback after each question.
  </p>

  <button class="btn-primary" onclick="startQuiz()">Start knowledge check</button>
</div>

<div class="content" id="quiz" style="display:none;"></div>
<div class="results" id="results"></div>

</div>

<script>

const quizData = [

{
question:"What is the primary purpose of IDMT?",
options:[
"To automatically remove or cleanse data using defined rules",
"To insert new case records",
"To schedule background services",
"To send automated notifications"
],
correct:0,
explanation:"IDMT is primarily used to remove or cleanse existing data in a controlled way. It can leave a field blank, apply the default value Data Removed, or use a defined replacement text to indicate that data previously existed."
},

{
question:"What must a rule contain before it can run?",
options:[
"An audit export",
"Selection criteria and at least one action",
"A DMS link",
"A scheduled service"
],
correct:1,
explanation:"A rule must include selection criteria to identify which records are targeted and at least one action to define what change will occur. Without both elements, the rule has nothing to process."
},

{
question:"What is the purpose of running a Test before running a Rule?",
options:[
"To permanently update records",
"To improve processing speed",
"To preview which records will be affected without applying changes",
"To delete invalid rules"
],
correct:2,
explanation:"A Test run allows you to review which records meet the criteria before any changes are applied. This confirms your logic is correct and reduces the risk of unintended data removal."
},

{
question:"If selection criteria are too broad, what is the likely outcome?",
options:[
"The rule will fail automatically",
"More records than intended may be affected",
"The audit will be disabled",
"The rule deletes itself"
],
correct:1,
explanation:"Broad selection criteria increase the number of matched records. This may result in removing data from more records than intended."
},

{
question:"When removing data using IDMT, what replacement options are available?",
options:[
"Insert a new case reference only",
"Replace with system generated audit ID",
"Leave blank, use default Data Removed, or define your own replacement text",
"Automatically archive the field"
],
correct:2,
explanation:"When data is removed, the field can be left blank, populated with the default text Data Removed, or replaced with a defined value."
},

{
question:"Why is the Audit feature important in IDMT?",
options:[
"It increases rule performance",
"It records who made changes and what was changed",
"It blocks unauthorised users",
"It reduces database size"
],
correct:1,
explanation:"The Audit feature records what changes were made, when they were made, and which rule applied them."
},

{
question:"In a Shared Services environment, what must be carefully configured?",
options:[
"The rule scope and authority filters",
"The email template",
"The HTML output format",
"The server time zone"
],
correct:0,
explanation:"In Shared Services, rules must be scoped correctly so they only affect the intended authority."
},

{
question:"What is the risk of running a rule without testing first?",
options:[
"It cannot be audited",
"It may apply unintended data removal to live records",
"It disables the module",
"It blocks user login"
],
correct:1,
explanation:"Running a rule without testing increases the risk of removing data from records that were not intended to be affected."
},

{
question:"Why might a Test return zero results?",
options:[
"The database is offline",
"The criteria do not match any current records",
"The rule is corrupted",
"The audit table is full"
],
correct:1,
explanation:"If no records meet the selection criteria, the Test will return zero results."
},

{
question:"What is best practice after successfully running a rule?",
options:[
"Immediately delete the rule",
"Restart the server",
"Disable all other rules",
"Review the audit output and document the outcome"
],
correct:3,
explanation:"After running a rule, review the audit results and document what was changed."
},

{
question:"If a rule appears stuck in Running status, what should you consider first?",
options:[
"Whether it is processing a large volume of records",
"That the system has crashed",
"That the audit failed",
"That DMS is offline"
],
correct:0,
explanation:"Large datasets can increase processing time. Confirm whether the rule is still actively processing."
},

{
question:"Why should rules be clearly named and documented?",
options:[
"To improve performance",
"To support governance and future review",
"To allow automatic scheduling",
"To reduce audit entries"
],
correct:1,
explanation:"Clear naming and documentation ensure administrators understand the purpose and impact of each rule."
},

{
question:"When is IDMT most appropriate to use?",
options:[
"For formatting HTML content",
"For one off personal changes",
"When removing or cleansing data across multiple records",
"For resetting user passwords"
],
correct:2,
explanation:"IDMT is most appropriate when removing or cleansing data consistently across multiple records."
},

{
question:"What happens when a rule is run live after testing?",
options:[
"The system schedules it automatically",
"The selected records are permanently updated according to the defined action",
"The audit is cleared",
"The rule disables itself"
],
correct:1,
explanation:"When run live, the defined action is applied to all records matching the criteria and recorded in the audit trail."
}

];

let current = 0;
let score = 0;

/* Remaining JS unchanged */

function startQuiz(){
document.getElementById("intro").style.display = "none";
document.getElementById("quiz").style.display = "block";
render();
}

function render(){
const q = quizData[current];
const quiz = document.getElementById("quiz");

quiz.innerHTML = `
<div class="question-number">Question ${current+1} of ${quizData.length}</div>
<div class="question">${q.question}</div>
${q.options.map((o,i)=>`<div class="option" onclick="selectOption(${i})">${o}</div>`).join("")}
<div class="feedback" id="feedback"></div>
<div class="buttons">
<button class="btn-secondary" onclick="prev()" ${current===0?"disabled":""}>Previous</button>
<button class="btn-primary" id="nextBtn" disabled onclick="next()">Next</button>
</div>
`;

document.getElementById("progressFill").style.width =
((current+1)/quizData.length*100) + "%";
}

function selectOption(i){
const opts = document.querySelectorAll(".option");
const fb = document.getElementById("feedback");
opts.forEach(o=>o.classList.add("disabled"));

if(i === quizData[current].correct){
opts[i].classList.add("correct");
fb.className = "feedback correct";
fb.textContent = "Correct – " + quizData[current].explanation;
score++;
} else {
opts[i].classList.add("incorrect");
opts[quizData[current].correct].classList.add("correct");
fb.className = "feedback incorrect";
fb.textContent = "Incorrect – " + quizData[current].explanation;
}

fb.style.display = "block";
document.getElementById("nextBtn").disabled = false;
}

function next(){
if(current < quizData.length - 1){
current++;
render();
} else {
showResults();
}
}

function prev(){
current--;
render();
}

function showResults(){
document.getElementById("quiz").style.display = "none";
const r = document.getElementById("results");
r.style.display = "block";

r.innerHTML = `
<div style="text-align:left; max-width:600px; margin:0 auto;">
<h2 style="margin-bottom:20px; color:#2a5298;">Knowledge Check Complete</h2>
<p style="margin-bottom:16px;">You’ve reached the end of the IDMT training knowledge check.</p>
<div style="width:100%; text-align:center; margin:24px 0;">
<div class="score" style="display:inline-block;">${score} out of ${quizData.length}</div>
</div>
<p style="margin-bottom:16px;">This score reinforces your understanding of IDMT data removal, testing and governance.</p>
<p style="margin-bottom:24px;">If any areas were unclear, revisit the relevant sections of the training materials.</p>
<p style="margin-bottom:10px; font-size:1.6em; font-weight:700; color:#2a5298;">
Thank you for attending Idox training
</p>
<p>If you’d like to explore further training courses, please speak to your Idox account manager.</p>
</div>
`;
}

</script>
</body>
</html>
